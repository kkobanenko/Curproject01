# RAG Platform

CPU-only ะปะพะบะฐะปัะฝะฐั RAG-ะฟะปะฐััะพัะผะฐ ั Streamlit UI ะธ FastAPI backend.

## ๐ ะะพะทะผะพะถะฝะพััะธ

- **ะะฐะณััะทะบะฐ ะดะพะบัะผะตะฝัะพะฒ** - PDF, DOCX, XLSX, HTML, ะธะทะพะฑัะฐะถะตะฝะธั
- **OCR ะธ ะธะทะฒะปะตัะตะฝะธะต ัะฐะฑะปะธั** - ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ั ะฟะพะดะดะตัะถะบะพะน ััััะบะพะณะพ ะธ ะฐะฝะณะปะธะนัะบะพะณะพ ัะทัะบะพะฒ
- **ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ** - ะฟะพะธัะบ ะฟะพ ัะผััะปั ัะตัะตะท ะฒะตะบัะพัะฝัะต ัะผะฑะตะดะดะธะฝะณะธ
- **RAG ัะฐั** - ะพัะฒะตัั ะฝะฐ ะฒะพะฟัะพัั ั ัะธัะฐัะฐะผะธ ะธะท ะดะพะบัะผะตะฝัะพะฒ
- **ะะพะบะฐะปัะฝัะต LLM** - ัะตัะตะท Ollama (llama3:8b, llama3.1:8b)
- **ะะตะบัะพัะฝะพะต ััะฐะฝะธะปะธัะต** - PostgreSQL + pgvector ั HNSW ะธะฝะดะตะบัะฐะผะธ
- **ะะฒัะพะผะฐัะธะทะฐัะธั** - Airflow ะดะปั ะพะฑัะฐะฑะพัะบะธ ะดะพะบัะผะตะฝัะพะฒ
- **ะะฐัะฑะพัะดั** - Apache Superset ะดะปั ะผะตััะธะบ ะธ ะฐะฝะฐะปะธัะธะบะธ

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Streamlit     โ    โ   FastAPI       โ    โ   Airflow       โ
โ   (Frontend)    โโโโโบโ   (Backend)     โโโโโบโ   (Pipelines)   โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                                โ                       โ
                                โผ                       โผ
                       โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                       โ   PostgreSQL    โ    โ   ClickHouse    โ
                       โ   + pgvector    โ    โ   (Metrics)     โ
                       โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                                โ
                                โผ
                       โโโโโโโโโโโโโโโโโโโ
                       โ     Ollama      โ
                       โ  (LLM + Embed)  โ
                       โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะขัะตะฑะพะฒะฐะฝะธั

- Ubuntu 22.04+
- Docker Engine + Docker Compose v2
- Python 3.11+
- Git

## ๐ ะัััััะน ััะฐัั

1. **ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั**
   ```bash
   git clone <repository-url>
   cd rag-platform
   ```

2. **ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั**
   ```bash
   cp infra/compose/env.example infra/compose/.env
   # ะััะตะดะฐะบัะธััะนัะต .env ัะฐะนะป ั ะฒะฐัะธะผะธ ะฝะฐัััะพะนะบะฐะผะธ
   ```

3. **ะะฐะฟััะบ ัะตัะฒะธัะพะฒ**
   ```bash
   make build    # ะกะฑะพัะบะฐ Docker ะพะฑัะฐะทะพะฒ
   make up       # ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
   ```

4. **ะะพัััะฟ ะบ ะฟัะธะปะพะถะตะฝะธัะผ**
   - Streamlit UI: http://localhost:8501
   - FastAPI: http://localhost:8081
   - Airflow: http://localhost:8080
   - Superset: http://localhost:8088
   - ClickHouse: http://localhost:8123

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
rag-platform/
โโโ apps/                    # ะัะธะปะพะถะตะฝะธั
โ   โโโ streamlit_app/      # Streamlit UI
โ   โโโ api/                # FastAPI backend
โโโ packages/                # ะะตัะตะธัะฟะพะปัะทัะตะผัะต ะฟะฐะบะตัั
โ   โโโ rag_core/           # ะัะฝะพะฒะฝะฐั RAG ะปะพะณะธะบะฐ
โโโ pipelines/               # Airflow ะฟะฐะนะฟะปะฐะนะฝั
โ   โโโ airflow/
โโโ infra/                   # ะะฝััะฐััััะบัััะฐ
โ   โโโ compose/            # Docker Compose
โ   โโโ db/                 # ะะฐะทั ะดะฐะฝะฝัั
โ   โโโ superset/           # ะะฐัะฑะพัะดั
โโโ configs/                 # ะะพะฝัะธะณััะฐัะธะธ
โโโ data/                    # ะะฐะฝะฝัะต
โ   โโโ inbox/              # ะัะพะดััะธะต ะดะพะบัะผะตะฝัั
โโโ tests/                   # ะขะตััั
```

## ๐ง ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ ะฒ `infra/compose/.env`:

- `POSTGRES_USER/PASSWORD` - PostgreSQL
- `AIRFLOW_USER/PASSWORD` - Airflow
- `OLLAMA_LLM_MODEL` - ะผะพะดะตะปั LLM (ะฟะพ ัะผะพะปัะฐะฝะธั llama3:8b)
- `OLLAMA_EMBED_MODEL` - ะผะพะดะตะปั ัะผะฑะตะดะดะธะฝะณะพะฒ (ะฟะพ ัะผะพะปัะฐะฝะธั bge-m3)

### ะะพะดะตะปะธ Ollama

```bash
# ะะฐะณััะทะบะฐ ะผะพะดะตะปะตะน
ollama pull llama3:8b
ollama pull bge-m3
```

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะฐะณััะทะบะฐ ะดะพะบัะผะตะฝัะพะฒ

1. ะะพะผะตััะธัะต ะดะพะบัะผะตะฝัั ะฒ ะฟะฐะฟะบั `data/inbox/`
2. Airflow ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฑะฝะฐััะถะธั ะธ ะพะฑัะฐะฑะพัะฐะตั ะธั
3. ะะพะบัะผะตะฝัั ะฑัะดัั ัะฐะทะฑะธัั ะฝะฐ ัะฐะฝะบะธ ะธ ะฒะตะบัะพัะธะทะพะฒะฐะฝั

### ะะพะธัะบ

- **ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ** ัะตัะตะท Streamlit UI
- **API ะฟะพะธัะบะฐ** ัะตัะตะท FastAPI endpoints
- **RAG ัะฐั** ะดะปั ะฒะพะฟัะพัะพะฒ ั ะบะพะฝัะตะบััะพะผ

### ะะพะฝะธัะพัะธะฝะณ

- **Airflow** - ััะฐััั ะฟะฐะนะฟะปะฐะนะฝะพะฒ
- **Superset** - ะดะฐัะฑะพัะดั ะผะตััะธะบ
- **ClickHouse** - ะฐะฝะฐะปะธัะธะบะฐ ะธ ะปะพะณะธ

## ๐๏ธ ะะฐะทัะฐะฑะพัะบะฐ

### ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
make install      # ะัะฝะพะฒะฝัะต ะทะฐะฒะธัะธะผะพััะธ
make dev          # + dev ะทะฐะฒะธัะธะผะพััะธ
```

### ะะธะฝัะธะฝะณ ะธ ัะพัะผะฐัะธัะพะฒะฐะฝะธะต

```bash
make lint         # ะัะพะฒะตัะบะฐ ะบะพะดะฐ
make format       # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต
```

### ะขะตััั

```bash
make test         # ะะฐะฟััะบ ัะตััะพะฒ
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- ACL/ัะพะปะธ/ัะตะฝะฐะฝัั ะฒ PostgreSQL
- ะคะธะปัััะฐัะธั ัะตััะธะฒะฐ ะฟะพ ะฟัะฐะฒะฐะผ ะดะพัััะฟะฐ
- ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะดะปั ัะตะบัะตัะพะฒ
- CORS ะฝะฐัััะพะนะบะธ ะดะปั API

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

- **ะะตะบัะพัะฝัะน ะฟะพะธัะบ**: HNSW ะธะฝะดะตะบัั ะฒ pgvector
- **ะะฐะทะผะตั ัะผะฑะตะดะดะธะฝะณะพะฒ**: 384-768 (ะพะฟัะธะผะธะทะธัะพะฒะฐะฝะพ ะดะปั CPU)
- **ะััะธัะพะฒะฐะฝะธะต**: Redis ะดะปั ัะฐัััั ะทะฐะฟัะพัะพะฒ
- **OLAP**: ClickHouse ะดะปั ะผะตััะธะบ ะธ ะฐะฝะฐะปะธัะธะบะธ

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

1. Fork ัะตะฟะพะทะธัะพัะธั
2. ะกะพะทะดะฐะนัะต feature branch
3. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั
4. ะะพะฑะฐะฒััะต ัะตััั
5. ะกะพะทะดะฐะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

MIT License

## ๐ ะะพะดะดะตัะถะบะฐ

- Issues: GitHub Issues
- ะะพะบัะผะตะฝัะฐัะธั: README ะธ inline ะบะพะผะผะตะฝัะฐัะธะธ
- ะัะธะผะตัั: ะฟะฐะฟะบะฐ `examples/`

## ๐ฎ Roadmap

- [ ] Reranker ะดะปั ัะปัััะตะฝะธั ัะพัะฝะพััะธ ะฟะพะธัะบะฐ
- [ ] ะะพะดะดะตัะถะบะฐ ะฑะพะปััะตะณะพ ะบะพะปะธัะตััะฒะฐ ัะพัะผะฐัะพะฒ ะดะพะบัะผะตะฝัะพะฒ
- [ ] ะะตะฑ-ััะบะธ ะดะปั ะธะฝัะตะณัะฐัะธะน
- [ ] ะะฐััะธัะตะฝะฝัะต ะผะตััะธะบะธ ะบะฐัะตััะฒะฐ
- [ ] Multi-tenant ะธะทะพะปััะธั
- [ ] Backup ะธ ะฒะพัััะฐะฝะพะฒะปะตะฝะธะต
